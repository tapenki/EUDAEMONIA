[gd_scene load_steps=14 format=4 uid="uid://defo0ssov0anv"]

[ext_resource type="Script" uid="uid://dixlok5134qdp" path="res://Entities/level_handler.gd" id="1_5vw27"]
[ext_resource type="PackedScene" uid="uid://bmqfb01e1pny7" path="res://UI/ui.tscn" id="2_kek77"]
[ext_resource type="Texture2D" uid="uid://ut22n8bouys2" path="res://tilemap.png" id="3_4c57u"]
[ext_resource type="Script" uid="uid://dv31cs2ygwudl" path="res://camera.gd" id="4_efxa6"]
[ext_resource type="PackedScene" uid="uid://chjju7v5k68xm" path="res://Entities/player.tscn" id="5_dg77c"]
[ext_resource type="AudioStream" uid="uid://dsmlwa6rfpo1r" path="res://Sounds/peh.ogg" id="6_ycdy4"]
[ext_resource type="AudioStream" uid="uid://wwmwcg6te82e" path="res://Sounds/pooh.ogg" id="7_w48qg"]
[ext_resource type="AudioStream" uid="uid://bmyiexw04eig4" path="res://Sounds/snap.ogg" id="8_vivmo"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2cjbd"]
texture = ExtResource("3_4c57u")
texture_region_size = Vector2i(30, 30)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -15, 15, -15, 15, 15, -15, 15)
1:1/0 = 0

[sub_resource type="TileSet" id="TileSet_3atn1"]
tile_size = Vector2i(30, 30)
physics_layer_0/collision_layer = 128
physics_layer_0/collision_mask = 128
sources/1 = SubResource("TileSetAtlasSource_2cjbd")

[sub_resource type="Animation" id="Animation_pxmip"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_h7sl2"]
resource_name = "ZOOM"
length = 15.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 15),
"transitions": PackedFloat32Array(0.5, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(2, 2)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_56cyu"]
_data = {
&"RESET": SubResource("Animation_pxmip"),
&"ZOOM": SubResource("Animation_h7sl2")
}

[node name="Main" type="Node2D"]
process_mode = 1
script = ExtResource("1_5vw27")

[node name="UI" parent="." node_paths=PackedStringArray("player") instance=ExtResource("2_kek77")]
player = NodePath("../Entities/Player")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAABAAAAAQABAAAAAAACAAAAAQABAAAAAAADAAAAAQABAAAAAAAEAAAAAQABAAAAAAAFAAAAAQABAAAAAAAGAAAAAQABAAAAAAAHAAAAAQABAAAAAAAIAAAAAQABAAAAAAAJAAAAAQABAAAAAAAKAAAAAQABAAAAAAALAAAAAQABAAAAAAAMAAAAAQABAAAAAAANAAAAAQABAAAAAAAOAAAAAQABAAAAAAAPAAAAAQABAAAAAAAQAAAAAQABAAAAAAARAAAAAQABAAAAAAASAAAAAQABAAAAAAATAAAAAQABAAAAAAAUAAAAAQABAAAAAAAVAAAAAQABAAAAAAAWAAAAAQABAAAAAAAXAAAAAQABAAAAAAAYAAAAAQABAAAAAAAZAAAAAQABAAAAAAAaAAAAAQABAAAAAAAbAAAAAQABAAAAAAAcAAAAAQABAAAAAAAdAAAAAQACAAAAAAAdAAEAAQACAAEAAAAdAAIAAQACAAEAAAAdAAMAAQACAAEAAAAdAAQAAQACAAEAAAAdAAUAAQACAAEAAAAdAAYAAQACAAEAAAAdAAcAAQACAAEAAAAdAAgAAQACAAEAAAAdAAkAAQACAAEAAAAdAAoAAQACAAEAAAAdAAsAAQACAAEAAAAdAAwAAQACAAEAAAAdAA0AAQACAAEAAAAdAA4AAQACAAEAAAAdAA8AAQACAAEAAAAdABAAAQACAAEAAAAdABEAAQACAAEAAAAdABIAAQACAAEAAAAdABMAAQACAAIAAAAcABMAAQABAAIAAAAbABMAAQABAAIAAAAaABMAAQABAAIAAAAZABMAAQABAAIAAAAYABMAAQABAAIAAAAXABMAAQABAAIAAAAWABMAAQABAAIAAAAVABMAAQABAAIAAAAUABMAAQABAAIAAAATABMAAQABAAIAAAASABMAAQABAAIAAAARABMAAQABAAIAAAAQABMAAQABAAIAAAAPABMAAQABAAIAAAAOABMAAQABAAIAAAANABMAAQABAAIAAAAMABMAAQABAAIAAAALABMAAQABAAIAAAAKABMAAQABAAIAAAAJABMAAQABAAIAAAAIABMAAQABAAIAAAAHABMAAQABAAIAAAAGABMAAQABAAIAAAAFABMAAQABAAIAAAAEABMAAQABAAIAAAADABMAAQABAAIAAAACABMAAQABAAIAAAABABMAAQABAAIAAAAAABMAAQAAAAIAAAAAABIAAQAAAAEAAAAAABEAAQAAAAEAAAAAABAAAQAAAAEAAAAAAA8AAQAAAAEAAAAAAA4AAQAAAAEAAAAAAA0AAQAAAAEAAAAAAAwAAQAAAAEAAAAAAAsAAQAAAAEAAAAAAAoAAQAAAAEAAAAAAAkAAQAAAAEAAAAAAAgAAQAAAAEAAAAAAAcAAQAAAAEAAAAAAAYAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAEAAQAAAAEAAAA=")
tile_set = SubResource("TileSet_3atn1")

[node name="Sprite2D" type="Sprite2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(450, 300)
script = ExtResource("4_efxa6")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D"]
libraries = {
&"": SubResource("AnimationLibrary_56cyu")
}

[node name="Entities" type="Node" parent="."]

[node name="Player" parent="Entities" instance=ExtResource("5_dg77c")]
z_index = 2
position = Vector2(419, 196)
group = 1

[node name="Projectiles" type="Node" parent="."]

[node name="Spawns" type="Node" parent="."]

[node name="Audio" type="Node" parent="."]
process_mode = 3

[node name="Peh" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("6_ycdy4")

[node name="Pooh" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("7_w48qg")

[node name="Snap" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("8_vivmo")

[node name="Shoot1" type="AudioStreamPlayer" parent="Audio"]

[node name="Death1" type="AudioStreamPlayer" parent="Audio"]

[node name="Shoot2" type="AudioStreamPlayer" parent="Audio"]

[node name="EnemySpawnTimer" type="Timer" parent="."]
wait_time = 4.0
one_shot = true

[connection signal="entity_death" from="." to="." method="check_finished"]
[connection signal="timeout" from="EnemySpawnTimer" to="." method="_on_enemy_spawn_timeout"]
